{
    "version": 2.0,
    "target": "bcm2835",
    "algorithms": [
        {
            "rpi.black_level":
            {
                "black_level": 4096
            }
        },
        {
            "rpi.dpc": { }
        },
        {
            "rpi.lux":
            {
                "reference_shutter_speed": 27242,
                "reference_gain": 1.0,
                "reference_aperture": 1.0,
                "reference_lux": 861,
                "reference_Y": 14584
            }
        },
        {
            "rpi.noise":
            {
                "reference_constant": 0,
                "reference_slope": 2.767
            }
        },
        {
            "rpi.geq":
            {
                "offset": 204,
                "slope": 0.01078
            }
        },
        {
            "rpi.sdn": { }
        },
        {
            "rpi.awb":
            {
                "priors": [
                    {
                        "lux": 0,
                        "prior":
                        [
                            2000, 1.0,
                            3000, 0.0,
                            13000, 0.0
                        ]
                    },
                    {
                        "lux": 800,
                        "prior":
                        [
                            2000, 0.0,
                            6000, 2.0,
                            13000, 2.0
                        ]
                    },
                    {
                        "lux": 1500,
                        "prior":
                        [
                            2000, 0.0,
                            4000, 1.0,
                            6000, 6.0,
                            6500, 7.0,
                            7000, 1.0,
                            13000, 1.0
                        ]
                    }
                ],
                "modes":
                {
                    "auto":
                    {
                        "lo": 2500,
                        "hi": 8000
                    },
                    "incandescent":
                    {
                        "lo": 2500,
                        "hi": 3000
                    },
                    "tungsten":
                    {
                        "lo": 3000,
                        "hi": 3500
                    },
                    "fluorescent":
                    {
                        "lo": 4000,
                        "hi": 4700
                    },
                    "indoor":
                    {
                        "lo": 3000,
                        "hi": 5000
                    },
                    "daylight":
                    {
                        "lo": 5500,
                        "hi": 6500
                    },
                    "cloudy":
                    {
                        "lo": 7000,
                        "hi": 8600
                    }
                },
                "bayes": 1,
                "ct_curve":
                [
                    2300.0, 0.9463, 0.3608, 
                    2856.0, 0.7633, 0.3638, 
                    3000.0, 0.7119, 0.3769, 
                    4000.0, 0.5515, 0.4852, 
                    4100.0, 0.5178, 0.5282, 
                    6500.0, 0.4288, 0.6985
                ],
                "sensitivity_r": 1.05,
                "sensitivity_b": 1.05,
                "transverse_pos": 0.0238,
                "transverse_neg": 0.04429
            }
        },
        {
            "rpi.agc":
            {
                "channels": [
                    {
                        "metering_modes":
                        {
                            "centre-weighted":
                            {
                                "weights":
                                [
                                    3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0
                                ]
                            },
                            "spot":
                            {
                                "weights":
                                [
                                    2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                                ]
                            },
                            "matrix":
                            {
                                "weights":
                                [
                                    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
                                ]
                            }
                        },
                        "exposure_modes":
                        {
                            "normal":
                            {
                                "shutter": [ 100, 10000, 30000, 60000, 66666 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                            },
                            "short":
                            {
                                "shutter": [ 100, 5000, 10000, 20000, 33333 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                            },
                            "long":
                            {
                                "shutter": [ 100, 10000, 30000, 60000, 120000 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 12.0 ]
                            }
                        },
                        "constraint_modes":
                        {
                            "normal": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.3,
                                        1000, 0.3
                                    ]
                                }
                            ],
                            "highlight": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.3,
                                        1000, 0.3
                                    ]
                                },
                                {
                                    "bound": "UPPER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.8,
                                        1000, 0.8
                                    ]
                                }
                            ],
                            "shadows": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.0,
                                    "q_hi": 0.5,
                                    "y_target":
                                    [
                                        0, 0.17,
                                        1000, 0.17
                                    ]
                                }
                            ]
                        },
                        "y_target":
                        [
                            0, 0.16,
                            1000, 0.165,
                            10000, 0.17
                        ]
                    },
                    {
                        "base_ev": 0.125,
                        "metering_modes":
                        {
                            "centre-weighted":
                            {
                                "weights":
                                [
                                    3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0
                                ]
                            },
                            "spot":
                            {
                                "weights":
                                [
                                    2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                                ]
                            },
                            "matrix":
                            {
                                "weights":
                                [
                                    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
                                ]
                            }
                        },
                        "exposure_modes":
                        {
                            "normal":
                            {
                                "shutter": [ 100, 10000, 30000, 60000, 66666 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                            },
                            "short":
                            {
                                "shutter": [ 100, 5000, 10000, 20000, 33333 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                            },
                            "long":
                            {
                                "shutter": [ 100, 10000, 30000, 60000, 120000 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 12.0 ]
                            }
                        },
                        "constraint_modes":
                        {
                            "normal": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.3,
                                        1000, 0.3
                                    ]
                                }
                            ],
                            "highlight": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.3,
                                        1000, 0.3
                                    ]
                                },
                                {
                                    "bound": "UPPER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.8,
                                        1000, 0.8
                                    ]
                                }
                            ],
                            "shadows": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.0,
                                    "q_hi": 0.5,
                                    "y_target":
                                    [
                                        0, 0.17,
                                        1000, 0.17
                                    ]
                                }
                            ]
                        },
                        "y_target":
                        [
                            0, 0.16,
                            1000, 0.165,
                            10000, 0.17
                        ]
                    },
                    {
                        "base_ev": 1.5,
                        "metering_modes":
                        {
                            "centre-weighted":
                            {
                                "weights":
                                [
                                    3, 3, 3, 2, 2, 2, 2, 1, 1, 1, 1, 0, 0, 0, 0
                                ]
                            },
                            "spot":
                            {
                                "weights":
                                [
                                    2, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0
                                ]
                            },
                            "matrix":
                            {
                                "weights":
                                [
                                    1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1
                                ]
                            }
                        },
                        "exposure_modes":
                        {
                            "normal":
                            {
                                "shutter": [ 100, 10000, 30000, 60000, 66666 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                            },
                            "short":
                            {
                                "shutter": [ 100, 5000, 10000, 20000, 33333 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 8.0 ]
                            },
                            "long":
                            {
                                "shutter": [ 100, 10000, 30000, 60000, 120000 ],
                                "gain": [ 1.0, 2.0, 4.0, 6.0, 12.0 ]
                            }
                        },
                        "constraint_modes":
                        {
                            "normal": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.3,
                                        1000, 0.3
                                    ]
                                }
                            ],
                            "highlight": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.3,
                                        1000, 0.3
                                    ]
                                },
                                {
                                    "bound": "UPPER",
                                    "q_lo": 0.98,
                                    "q_hi": 1.0,
                                    "y_target":
                                    [
                                        0, 0.8,
                                        1000, 0.8
                                    ]
                                }
                            ],
                            "shadows": [
                                {
                                    "bound": "LOWER",
                                    "q_lo": 0.0,
                                    "q_hi": 0.5,
                                    "y_target":
                                    [
                                        0, 0.17,
                                        1000, 0.17
                                    ]
                                }
                            ]
                        },
                        "y_target":
                        [
                            0, 0.16,
                            1000, 0.165,
                            10000, 0.17
                        ]
                    }
                ]
            }
        },
        {
            "rpi.alsc":
            {
                "omega": 1.3,
                "n_iter": 100,
                "luminance_strength": 0.5,
                "calibrations_Cr": [
                    {
                        "ct": 6500, "table":
                        [
                            2.342, 2.329, 2.322, 2.319, 2.316, 2.316, 2.316, 2.316, 2.317, 2.319, 2.322, 2.324, 2.331, 2.334, 2.337, 2.341,
                            2.341, 2.325, 2.321, 2.315, 2.311, 2.301, 2.298, 2.298, 2.301, 2.302, 2.308, 2.323, 2.329, 2.329, 2.334, 2.337,
                            2.341, 2.323, 2.315, 2.311, 2.301, 2.291, 2.282, 2.282, 2.286, 2.289, 2.294, 2.308, 2.323, 2.327, 2.329, 2.333,
                            2.341, 2.323, 2.314, 2.305, 2.291, 2.281, 2.276, 2.273, 2.273, 2.274, 2.289, 2.294, 2.314, 2.327, 2.329, 2.333,
                            2.342, 2.326, 2.312, 2.303, 2.289, 2.276, 2.273, 2.263, 2.263, 2.271, 2.274, 2.291, 2.311, 2.326, 2.328, 2.333,
                            2.343, 2.327, 2.312, 2.303, 2.289, 2.276, 2.266, 2.263, 2.262, 2.264, 2.272, 2.289, 2.308, 2.326, 2.328, 2.336,
                            2.343, 2.329, 2.313, 2.304, 2.293, 2.279, 2.273, 2.263, 2.262, 2.271, 2.275, 2.289, 2.308, 2.326, 2.334, 2.336,
                            2.345, 2.332, 2.321, 2.311, 2.299, 2.293, 2.279, 2.274, 2.274, 2.275, 2.288, 2.297, 2.316, 2.329, 2.336, 2.339,
                            2.351, 2.336, 2.331, 2.321, 2.311, 2.299, 2.294, 2.294, 2.293, 2.293, 2.297, 2.313, 2.327, 2.336, 2.339, 2.339,
                            2.354, 2.339, 2.336, 2.331, 2.323, 2.316, 2.312, 2.312, 2.312, 2.312, 2.313, 2.327, 2.337, 2.339, 2.341, 2.345,
                            2.359, 2.349, 2.339, 2.339, 2.335, 2.328, 2.324, 2.324, 2.325, 2.325, 2.329, 2.337, 2.342, 2.342, 2.348, 2.352,
                            2.363, 2.355, 2.349, 2.346, 2.343, 2.342, 2.342, 2.342, 2.342, 2.342, 2.342, 2.344, 2.346, 2.349, 2.352, 2.353
                        ]
                    }
                ],
                "calibrations_Cb": [
                    {
                        "ct": 6500, "table":
                        [
                            1.439, 1.438, 1.434, 1.429, 1.428, 1.429, 1.432, 1.434, 1.437, 1.439, 1.443, 1.448, 1.456, 1.465, 1.471, 1.474,
                            1.439, 1.435, 1.431, 1.427, 1.427, 1.428, 1.432, 1.436, 1.438, 1.441, 1.443, 1.445, 1.451, 1.459, 1.467, 1.471,
                            1.437, 1.435, 1.427, 1.427, 1.427, 1.428, 1.432, 1.438, 1.441, 1.442, 1.443, 1.444, 1.447, 1.452, 1.461, 1.467,
                            1.435, 1.431, 1.427, 1.425, 1.426, 1.429, 1.437, 1.443, 1.447, 1.445, 1.444, 1.443, 1.443, 1.447, 1.456, 1.461,
                            1.431, 1.428, 1.425, 1.425, 1.426, 1.432, 1.443, 1.447, 1.452, 1.447, 1.444, 1.441, 1.441, 1.443, 1.449, 1.457,
                            1.429, 1.425, 1.424, 1.422, 1.425, 1.432, 1.443, 1.451, 1.452, 1.451, 1.444, 1.439, 1.436, 1.441, 1.446, 1.454,
                            1.428, 1.424, 1.421, 1.419, 1.422, 1.429, 1.439, 1.445, 1.449, 1.444, 1.438, 1.434, 1.434, 1.435, 1.443, 1.453,
                            1.428, 1.423, 1.418, 1.417, 1.417, 1.422, 1.429, 1.439, 1.439, 1.438, 1.431, 1.429, 1.431, 1.434, 1.442, 1.452,
                            1.428, 1.422, 1.417, 1.415, 1.413, 1.416, 1.421, 1.426, 1.426, 1.425, 1.423, 1.423, 1.428, 1.432, 1.442, 1.452,
                            1.428, 1.422, 1.417, 1.413, 1.411, 1.411, 1.413, 1.415, 1.416, 1.416, 1.417, 1.423, 1.425, 1.432, 1.442, 1.452,
                            1.428, 1.424, 1.418, 1.414, 1.411, 1.409, 1.409, 1.409, 1.411, 1.414, 1.416, 1.419, 1.425, 1.435, 1.447, 1.453,
                            1.428, 1.424, 1.421, 1.418, 1.413, 1.409, 1.409, 1.409, 1.409, 1.411, 1.415, 1.419, 1.429, 1.441, 1.447, 1.453
                        ]
                    }
                ],
                "luminance_lut":
                [
                    3.309, 3.107, 2.611, 2.269, 2.022, 1.814, 1.714, 1.701, 1.701, 1.701, 1.739, 1.918, 2.153, 2.453, 2.903, 3.059,
                    3.107, 2.713, 2.294, 2.047, 1.845, 1.643, 1.541, 1.471, 1.471, 1.485, 1.583, 1.737, 1.961, 2.157, 2.531, 2.903,
                    2.767, 2.441, 2.099, 1.845, 1.643, 1.464, 1.313, 1.246, 1.246, 1.279, 1.382, 1.583, 1.737, 1.971, 2.278, 2.549,
                    2.626, 2.274, 1.965, 1.704, 1.464, 1.313, 1.187, 1.104, 1.104, 1.139, 1.279, 1.382, 1.594, 1.842, 2.123, 2.421,
                    2.571, 2.178, 1.878, 1.605, 1.361, 1.187, 1.104, 1.031, 1.009, 1.095, 1.139, 1.284, 1.498, 1.755, 2.036, 2.372,
                    2.571, 2.154, 1.851, 1.572, 1.341, 1.161, 1.046, 1.001, 1.001, 1.021, 1.118, 1.264, 1.477, 1.743, 2.021, 2.372,
                    2.571, 2.154, 1.851, 1.572, 1.341, 1.161, 1.049, 1.031, 1.005, 1.041, 1.118, 1.264, 1.477, 1.743, 2.021, 2.372,
                    2.591, 2.218, 1.917, 1.641, 1.405, 1.231, 1.161, 1.049, 1.049, 1.118, 1.206, 1.334, 1.547, 1.801, 2.082, 2.391,
                    2.677, 2.346, 2.034, 1.769, 1.538, 1.405, 1.231, 1.173, 1.173, 1.206, 1.334, 1.487, 1.679, 1.919, 2.202, 2.477,
                    2.871, 2.554, 2.199, 1.958, 1.769, 1.538, 1.416, 1.351, 1.351, 1.385, 1.487, 1.679, 1.868, 2.081, 2.402, 2.702,
                    3.304, 2.871, 2.428, 2.199, 1.958, 1.775, 1.657, 1.594, 1.594, 1.623, 1.724, 1.868, 2.081, 2.323, 2.702, 3.116,
                    3.479, 3.304, 2.788, 2.426, 2.173, 1.957, 1.878, 1.863, 1.863, 1.863, 1.906, 2.051, 2.301, 2.646, 3.116, 3.232
                ],
                "sigma": 0.00121,
                "sigma_Cb": 0.00115
            }
        },
        {
            "rpi.contrast":
            {
                "ce_enable": 1,
                "gamma_curve":
                [
                    0, 0,
                    1024, 5040,
                    2048, 9338,
                    3072, 12356,
                    4096, 15312,
                    5120, 18051,
                    6144, 20790,
                    7168, 23193,
                    8192, 25744,
                    9216, 27942,
                    10240, 30035,
                    11264, 32005,
                    12288, 33975,
                    13312, 35815,
                    14336, 37600,
                    15360, 39168,
                    16384, 40642,
                    18432, 43379,
                    20480, 45749,
                    22528, 47753,
                    24576, 49621,
                    26624, 51253,
                    28672, 52698,
                    30720, 53796,
                    32768, 54876,
                    36864, 57012,
                    40960, 58656,
                    45056, 59954,
                    49152, 61183,
                    53248, 62355,
                    57344, 63419,
                    61440, 64476,
                    65535, 65535
                ]
            }
        },
        {
            "rpi.ccm":
            {
                "ccms": [
                    {
                        "ct": 2300, "ccm":
                        [
                            1.17238, 0.12381, -0.29619, -0.50084, 1.60791, -0.10707, -0.19823, -0.88357, 2.08179
                        ]
                    },
                    {
                        "ct": 2856, "ccm":
                        [
                            1.22502, -0.03176, -0.19326, -0.41681, 1.55461, -0.13781, -0.09884, -0.81362, 1.91246
                        ]
                    },
                    {
                        "ct": 3000, "ccm":
                        [
                            1.59765, -0.52834, -0.06931, -0.37265, 1.32259, 0.05006, -0.01706, -0.78311, 1.80017
                        ]
                    },
                    {
                        "ct": 4000, "ccm":
                        [
                            1.62797, -0.60327, -0.02469, -0.28269, 1.27521, 0.00748, -0.02952, -0.57766, 1.60718
                        ]
                    },
                    {
                        "ct": 4100, "ccm":
                        [
                            1.83276, -0.86911, 0.03635, -0.35799, 1.31908, 0.03891, -0.06172, -0.46291, 1.52463
                        ]
                    },
                    {
                        "ct": 6500, "ccm":
                        [
                            1.40371, -0.38129, -0.02241, -0.26361, 1.51892, -0.25531, -0.07265, -0.45434, 1.52699
                        ]
                    }
                ]
            }
        },
        {
            "rpi.sharpen": { }
        },
        {
            "rpi.hdr":
            {
                "MultiExposureUnmerged":
                {
                    "cadence": [ 1, 2 ],
                    "channel_map":
                    {
                        "short": 1,
                        "long": 2
                    }
                }
            }
        }
    ]
}
